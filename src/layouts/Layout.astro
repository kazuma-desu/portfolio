---
import "@fontsource/monaspace-neon";

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="description"
            content="Kavintha Kulasingham - Senior DevOps Engineer and Linux Enthusiast"
        />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.12/css/weather-icons.min.css"
        />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>
    </head>
    <body
        class="bg-terminal-900 text-terminal-100 font-mono relative overflow-x-hidden"
    >
        <!-- Dot Grid Background Pattern -->
        <div
            class="dot-grid-pattern fixed top-0 left-0 w-screen h-screen -z-20"
        >
        </div>

        <!-- Shooting Stars -->
        <div
            class="night fixed top-0 left-0 w-screen h-screen -z-10 overflow-hidden"
        >
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
            <div class="shooting_star"></div>
        </div>

        <div class="terminal-window relative z-10">
            <slot />
        </div>

        <style is:global>
            :root {
                --terminal-bg: #1e1e1e;
                --terminal-text: #f8f8f2;
                --terminal-accent: #bd93f9;
                --terminal-secondary: #ff79c6;
            }

            @tailwind base;
            @tailwind components;
            @tailwind utilities;

            @layer components {
                .terminal-window {
                    @apply max-w-7xl mx-auto p-4 md:p-8 lg:p-12;
                }

                .terminal-header {
                    @apply bg-terminal-800 rounded-t-lg p-3 flex items-center gap-2
                 border-b border-terminal-accent/20
                 shadow-lg shadow-terminal-accent/10;
                }

                .terminal-dot {
                    @apply w-3 h-3 rounded-full;
                }

                .terminal-dot-red {
                    @apply bg-red-500;
                }

                .terminal-dot-yellow {
                    @apply bg-yellow-500;
                }

                .terminal-dot-green {
                    @apply bg-green-500;
                }

                .terminal-body {
                    @apply bg-terminal-900/80 backdrop-blur-md rounded-b-lg p-8 md:p-10 lg:p-14
                 border border-terminal-accent/20
                 shadow-2xl shadow-terminal-accent/20
                 relative mb-8;
                }

                .terminal-body::before {
                    content: "";
                    position: absolute;
                    inset: 0;
                    border-radius: 0 0 0.5rem 0.5rem;
                    padding: 1px;
                    background: linear-gradient(
                        135deg,
                        rgba(180, 190, 254, 0.3),
                        rgba(245, 194, 231, 0.2),
                        transparent
                    );
                    -webkit-mask:
                        linear-gradient(#fff 0 0) content-box,
                        linear-gradient(#fff 0 0);
                    -webkit-mask-composite: xor;
                    mask-composite: exclude;
                    pointer-events: none;
                }

                .terminal-prompt {
                    @apply text-terminal-accent font-bold;
                }

                .terminal-command {
                    @apply text-terminal-300;
                }

                .terminal-command::before {
                    content: "$";
                    @apply text-terminal-400 mr-2;
                }

                .terminal-output {
                    @apply mt-4 pl-4 border-l-2 border-terminal-accent;
                }

                .terminal-link {
                    @apply text-terminal-100 hover:text-terminal-accent transition-colors duration-200
				   border border-transparent hover:border-terminal-accent rounded px-3 py-1;
                }

                .terminal-card {
                    @apply bg-gradient-to-br from-terminal-800/60 to-terminal-800/40 backdrop-blur-md
				   p-6 rounded-lg border border-terminal-700/80
				   hover:border-terminal-accent/60
				   hover:scale-[1.01] hover:-translate-y-1 transition-all duration-150
				   hover:shadow-xl hover:shadow-terminal-accent/20;
                }

                .terminal-card-alt {
                    @apply bg-terminal-800/50 backdrop-blur-md
				   p-6 rounded-lg border-l-4 border-terminal-accent
				   shadow-md
				   hover:border-terminal-300
				   hover:translate-x-1 transition-all duration-150
				   hover:shadow-lg hover:shadow-terminal-accent/10;
                }

                .terminal-card-success {
                    @apply bg-gradient-to-br from-terminal-green/10 to-terminal-800/40 backdrop-blur-md
				   p-6 rounded-lg border border-terminal-green/30
				   hover:border-terminal-green/70
				   hover:scale-[1.01] hover:-translate-y-1 transition-all duration-150
				   hover:shadow-xl hover:shadow-terminal-green/20;
                }

                .terminal-card-highlight {
                    @apply bg-gradient-to-br from-terminal-yellow/10 to-terminal-800/40 backdrop-blur-md
				   p-6 rounded-lg border border-terminal-yellow/30
				   hover:border-terminal-yellow/70
				   hover:scale-[1.01] hover:-translate-y-1 transition-all duration-150
				   hover:shadow-xl hover:shadow-terminal-yellow/20;
                }

                .section-divider {
                    @apply h-px bg-gradient-to-r from-transparent via-terminal-accent/30 to-transparent my-8;
                }

                /* Scroll-based animations */
                .fade-out {
                    opacity: 0;
                    transform: translateY(20px);
                    transition:
                        opacity 0.4s ease-out,
                        transform 0.4s ease-out;
                }

                .animate-in {
                    opacity: 1;
                    transform: translateY(0);
                }

                /* Legacy fade-in support */
                .fade-in {
                    @apply opacity-100 transform-none transition-all duration-500;
                }

                .fade-in.visible {
                    @apply opacity-100 translate-y-0;
                }
            }

            /* Line grid background pattern */
            .dot-grid-pattern {
                background-image:
                    linear-gradient(
                        rgba(192, 176, 255, 0.08) 1px,
                        transparent 1px
                    ),
                    linear-gradient(
                        90deg,
                        rgba(192, 176, 255, 0.08) 1px,
                        transparent 1px
                    );
                background-size: 40px 40px;
                opacity: 1;
            }

            /* Shooting stars effect */
            .night {
                position: absolute;
                width: 200%;
                height: 200%;
                top: -50%;
                left: -50%;
                transform: rotateZ(45deg);
            }

            .shooting_star {
                position: absolute;
                left: 50%;
                top: 50%;
                height: 2px;
                background: linear-gradient(
                    -45deg,
                    rgba(192, 176, 255, 1),
                    rgba(168, 150, 255, 0)
                );
                border-radius: 999px;
                filter: drop-shadow(0 0 6px rgba(192, 176, 255, 0.8));
                animation:
                    tail 3000ms ease-in-out infinite,
                    shooting 3000ms ease-in-out infinite;
            }

            .shooting_star::before {
                content: "";
                position: absolute;
                top: calc(50% - 1px);
                right: 0;
                height: 2px;
                background: linear-gradient(
                    -45deg,
                    rgba(168, 150, 255, 0),
                    rgba(192, 176, 255, 1),
                    rgba(168, 150, 255, 0)
                );
                transform: translateX(50%) rotateZ(45deg);
                border-radius: 100%;
                animation: shining 3000ms ease-in-out infinite;
            }

            .shooting_star::after {
                content: "";
                position: absolute;
                top: calc(50% - 1px);
                right: 0;
                height: 2px;
                background: linear-gradient(
                    -45deg,
                    rgba(168, 150, 255, 0),
                    rgba(192, 176, 255, 1),
                    rgba(168, 150, 255, 0)
                );
                transform: translateX(50%) rotateZ(-45deg);
                border-radius: 100%;
                animation: shining 3000ms ease-in-out infinite;
            }

            /* Spread stars across entire canvas with percentage positioning */
            .shooting_star:nth-child(1) {
                top: 5%;
                left: 12%;
                animation-delay: 1563ms;
            }
            .shooting_star:nth-child(1)::before,
            .shooting_star:nth-child(1)::after {
                animation-delay: 1563ms;
            }

            .shooting_star:nth-child(2) {
                top: 18%;
                left: 67%;
                animation-delay: 4821ms;
            }
            .shooting_star:nth-child(2)::before,
            .shooting_star:nth-child(2)::after {
                animation-delay: 4821ms;
            }

            .shooting_star:nth-child(3) {
                top: 32%;
                left: 23%;
                animation-delay: 7239ms;
            }
            .shooting_star:nth-child(3)::before,
            .shooting_star:nth-child(3)::after {
                animation-delay: 7239ms;
            }

            .shooting_star:nth-child(4) {
                top: 45%;
                left: 89%;
                animation-delay: 2947ms;
            }
            .shooting_star:nth-child(4)::before,
            .shooting_star:nth-child(4)::after {
                animation-delay: 2947ms;
            }

            .shooting_star:nth-child(5) {
                top: 58%;
                left: 34%;
                animation-delay: 6158ms;
            }
            .shooting_star:nth-child(5)::before,
            .shooting_star:nth-child(5)::after {
                animation-delay: 6158ms;
            }

            .shooting_star:nth-child(6) {
                top: 71%;
                left: 78%;
                animation-delay: 891ms;
            }
            .shooting_star:nth-child(6)::before,
            .shooting_star:nth-child(6)::after {
                animation-delay: 891ms;
            }

            .shooting_star:nth-child(7) {
                top: 84%;
                left: 45%;
                animation-delay: 3642ms;
            }
            .shooting_star:nth-child(7)::before,
            .shooting_star:nth-child(7)::after {
                animation-delay: 3642ms;
            }

            .shooting_star:nth-child(8) {
                top: 12%;
                left: 56%;
                animation-delay: 5473ms;
            }
            .shooting_star:nth-child(8)::before,
            .shooting_star:nth-child(8)::after {
                animation-delay: 5473ms;
            }

            .shooting_star:nth-child(9) {
                top: 25%;
                left: 8%;
                animation-delay: 2184ms;
            }
            .shooting_star:nth-child(9)::before,
            .shooting_star:nth-child(9)::after {
                animation-delay: 2184ms;
            }

            .shooting_star:nth-child(10) {
                top: 38%;
                left: 92%;
                animation-delay: 8756ms;
            }
            .shooting_star:nth-child(10)::before,
            .shooting_star:nth-child(10)::after {
                animation-delay: 8756ms;
            }

            .shooting_star:nth-child(11) {
                top: 51%;
                left: 15%;
                animation-delay: 4125ms;
            }
            .shooting_star:nth-child(11)::before,
            .shooting_star:nth-child(11)::after {
                animation-delay: 4125ms;
            }

            .shooting_star:nth-child(12) {
                top: 64%;
                left: 61%;
                animation-delay: 1897ms;
            }
            .shooting_star:nth-child(12)::before,
            .shooting_star:nth-child(12)::after {
                animation-delay: 1897ms;
            }

            .shooting_star:nth-child(13) {
                top: 77%;
                left: 28%;
                animation-delay: 6934ms;
            }
            .shooting_star:nth-child(13)::before,
            .shooting_star:nth-child(13)::after {
                animation-delay: 6934ms;
            }

            .shooting_star:nth-child(14) {
                top: 90%;
                left: 83%;
                animation-delay: 3281ms;
            }
            .shooting_star:nth-child(14)::before,
            .shooting_star:nth-child(14)::after {
                animation-delay: 3281ms;
            }

            .shooting_star:nth-child(15) {
                top: 8%;
                left: 39%;
                animation-delay: 7512ms;
            }
            .shooting_star:nth-child(15)::before,
            .shooting_star:nth-child(15)::after {
                animation-delay: 7512ms;
            }

            .shooting_star:nth-child(16) {
                top: 21%;
                left: 72%;
                animation-delay: 2673ms;
            }
            .shooting_star:nth-child(16)::before,
            .shooting_star:nth-child(16)::after {
                animation-delay: 2673ms;
            }

            .shooting_star:nth-child(17) {
                top: 34%;
                left: 5%;
                animation-delay: 5846ms;
            }
            .shooting_star:nth-child(17)::before,
            .shooting_star:nth-child(17)::after {
                animation-delay: 5846ms;
            }

            .shooting_star:nth-child(18) {
                top: 47%;
                left: 50%;
                animation-delay: 1347ms;
            }
            .shooting_star:nth-child(18)::before,
            .shooting_star:nth-child(18)::after {
                animation-delay: 1347ms;
            }

            .shooting_star:nth-child(19) {
                top: 60%;
                left: 95%;
                animation-delay: 8219ms;
            }
            .shooting_star:nth-child(19)::before,
            .shooting_star:nth-child(19)::after {
                animation-delay: 8219ms;
            }

            .shooting_star:nth-child(20) {
                top: 73%;
                left: 18%;
                animation-delay: 4568ms;
            }
            .shooting_star:nth-child(20)::before,
            .shooting_star:nth-child(20)::after {
                animation-delay: 4568ms;
            }

            @keyframes tail {
                0% {
                    width: 0;
                }
                30% {
                    width: 100px;
                }
                100% {
                    width: 0;
                }
            }

            @keyframes shining {
                0% {
                    width: 0;
                }
                50% {
                    width: 30px;
                }
                100% {
                    width: 0;
                }
            }

            @keyframes shooting {
                0% {
                    transform: translateX(0);
                }
                100% {
                    transform: translateX(300px);
                }
            }

            /* Respect user's motion preferences */
            @media (prefers-reduced-motion: reduce) {
                .shooting_star {
                    animation: none;
                }
                .shooting_star::before,
                .shooting_star::after {
                    animation: none;
                }
                .night {
                    display: none;
                }
            }
        </style>
    </body>
</html>
